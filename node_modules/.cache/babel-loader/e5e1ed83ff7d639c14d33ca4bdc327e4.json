{"ast":null,"code":"import _slicedToArray from \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/src/pages/home.jsx\";\nimport React from 'react';\nimport PokeInfo from '../components/PokeInfo';\nimport Search from '../components/Search';\nimport { fetchPokemon } from '../services/getPokemon';\nimport { fetchTranslation } from '../services/getTranslation';\nimport { Spinner } from 'react-bootstrap';\nimport { findAndTranslate } from '../services/translator';\nexport default function HomePage() {\n  var _this = this;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pokemon = _React$useState2[0],\n      setPokemon = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      translation = _React$useState6[0],\n      setTranslation = _React$useState6[1]; // const getPokemon = async (query) => {\n  //     setLoading(true)\n  //     const response = await fetchPokemon(query)\n  //     // console.log(response)\n  //     const results = await response.json()\n  //     // console.log(results)\n  //     setPokemon(results)\n  //     setLoading(false)\n  // }\n  // const getTranslation = async (query) => {\n  //     const response = await fetchTranslation()\n  //     console.log(response)\n  //     const results = await response.json()\n  //     console.log(results)\n  //     setTranslation(results)\n  // }\n\n\n  get('/pokemon/*', function (req, res) {\n    //parse query from string\n    pokemonName = JSON.stringify(req.url).substring(10, req.url.length + 1);\n    var shakespeareDesc = {\n      \"name\": pokemonName,\n      \"description\": findAndTranslate(pokemonName, function (err, description) {\n        if (err) {\n          return err;\n        } else {\n          return description;\n        }\n      })\n    };\n    res.send(shakespeareDesc);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"shakespeareDesc\");\n  }); // var desc = pokemon.flavor_text_entries[0].flavor_text\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    getPokemon: getPokemon,\n    getTranslation: getTranslation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), loading ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }) : null, !loading && pokemon ? /*#__PURE__*/React.createElement(PokeInfo, {\n    name: pokemon.name,\n    flavor_text: pokemon.flavor_text_entries,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }) : null, !loading && translation && pokemon ? /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, translation.contents.translated) : null);\n}","map":{"version":3,"names":["React","PokeInfo","Search","fetchPokemon","fetchTranslation","Spinner","findAndTranslate","HomePage","useState","pokemon","setPokemon","loading","setLoading","translation","setTranslation","get","req","res","pokemonName","JSON","stringify","url","substring","length","shakespeareDesc","err","description","send","getPokemon","getTranslation","name","flavor_text_entries","contents","translated"],"sources":["/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/src/pages/home.jsx"],"sourcesContent":["import React from 'react'\nimport PokeInfo from '../components/PokeInfo'\nimport Search from '../components/Search'\nimport { fetchPokemon } from '../services/getPokemon'\nimport { fetchTranslation } from '../services/getTranslation'\nimport { Spinner } from 'react-bootstrap'\nimport { findAndTranslate } from '../services/translator'\n\n\nexport default function HomePage() {\n    \n    const [pokemon, setPokemon] = React.useState()\n    const [loading, setLoading] = React.useState(false)\n    const [translation, setTranslation] = React.useState()\n    \n    // const getPokemon = async (query) => {\n    //     setLoading(true)\n    //     const response = await fetchPokemon(query)\n    //     // console.log(response)\n    //     const results = await response.json()\n    //     // console.log(results)\n    //     setPokemon(results)\n\n    //     setLoading(false)\n    // }\n\n    // const getTranslation = async (query) => {\n    //     const response = await fetchTranslation()\n    //     console.log(response)\n    //     const results = await response.json()\n    //     console.log(results)\n    //     setTranslation(results)\n    // }\n\n    get('/pokemon/*', (req,res)=>{\n        //parse query from string\n        pokemonName = JSON.stringify(req.url).substring(10,req.url.length+1)\n    \n        const shakespeareDesc = {\n        \"name\": pokemonName,\n        \"description\": findAndTranslate(pokemonName, (err, description)=>{\n            if(err){\n                return err\n            }\n        \n            else{\n                return description\n            }\n        })\n        }\n        res.send(shakespeareDesc)\n\n        return (\n            <div>\n                shakespeareDesc\n            </div>\n        )\n    })\n\n    // var desc = pokemon.flavor_text_entries[0].flavor_text\n\n    return (\n        <div>\n            <Search getPokemon={getPokemon} getTranslation={getTranslation}/>\n            {loading ? (<Spinner animation=\"border\" />) :null}\n            {!loading && pokemon ? (\n                <PokeInfo \n                name={pokemon.name}\n                flavor_text={pokemon.flavor_text_entries}\n                />\n            ): null}\n            \n\n            {!loading && translation && pokemon ? (\n                <h5>{translation.contents.translated}</h5>\n            ): null}\n        </div>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,gBAAT,QAAiC,4BAAjC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AAGA,eAAe,SAASC,QAAT,GAAoB;EAAA;;EAAA,sBAEDP,KAAK,CAACQ,QAAN,EAFC;EAAA;EAAA,IAExBC,OAFwB;EAAA,IAEfC,UAFe;;EAAA,uBAGDV,KAAK,CAACQ,QAAN,CAAe,KAAf,CAHC;EAAA;EAAA,IAGxBG,OAHwB;EAAA,IAGfC,UAHe;;EAAA,uBAIOZ,KAAK,CAACQ,QAAN,EAJP;EAAA;EAAA,IAIxBK,WAJwB;EAAA,IAIXC,cAJW,wBAM/B;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;;EAEAC,GAAG,CAAC,YAAD,EAAe,UAACC,GAAD,EAAKC,GAAL,EAAW;IACzB;IACAC,WAAW,GAAGC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,GAAnB,EAAwBC,SAAxB,CAAkC,EAAlC,EAAqCN,GAAG,CAACK,GAAJ,CAAQE,MAAR,GAAe,CAApD,CAAd;IAEA,IAAMC,eAAe,GAAG;MACxB,QAAQN,WADgB;MAExB,eAAeZ,gBAAgB,CAACY,WAAD,EAAc,UAACO,GAAD,EAAMC,WAAN,EAAoB;QAC7D,IAAGD,GAAH,EAAO;UACH,OAAOA,GAAP;QACH,CAFD,MAII;UACA,OAAOC,WAAP;QACH;MACJ,CAR8B;IAFP,CAAxB;IAYAT,GAAG,CAACU,IAAJ,CAASH,eAAT;IAEA,oBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,qBADJ;EAKH,CAvBE,CAAH,CAzB+B,CAkD/B;;EAEA,oBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,MAAD;IAAQ,UAAU,EAAEI,UAApB;IAAgC,cAAc,EAAEC,cAAhD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,EAEKlB,OAAO,gBAAI,oBAAC,OAAD;IAAS,SAAS,EAAC,QAAnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAJ,GAAqC,IAFjD,EAGK,CAACA,OAAD,IAAYF,OAAZ,gBACG,oBAAC,QAAD;IACA,IAAI,EAAEA,OAAO,CAACqB,IADd;IAEA,WAAW,EAAErB,OAAO,CAACsB,mBAFrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADH,GAKE,IARP,EAWK,CAACpB,OAAD,IAAYE,WAAZ,IAA2BJ,OAA3B,gBACG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAKI,WAAW,CAACmB,QAAZ,CAAqBC,UAA1B,CADH,GAEE,IAbP,CADJ;AAiBH"},"metadata":{},"sourceType":"module"}