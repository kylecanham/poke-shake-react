{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/src/pages/home.jsx\";\nimport React from 'react';\nimport Search from '../components/Search';\nimport { fetchPokemon } from '../services/getPokemon';\nimport { fetchTranslation } from '../services/getTranslation';\nimport { Spinner } from 'react-bootstrap';\nimport { Card } from 'react-bootstrap';\nexport default function HomePage() {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      pokemon = _React$useState2[0],\n      setPokemon = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      translation = _React$useState6[0],\n      setTranslation = _React$useState6[1];\n\n  var desc;\n\n  var getPokemon = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(query) {\n      var response, results, resp, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return fetchPokemon(query);\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              results = _context.sent;\n              // console.log(results)\n              setPokemon(results);\n              desc = results.flavor_text_entries[0].flavor_text; // console.log(desc)\n\n              desc = desc.split('\\n').join(' ');\n              desc = desc.split(' ').join('%20');\n              _context.next = 14;\n              return fetchTranslation(desc);\n\n            case 14:\n              resp = _context.sent;\n              console.log(resp);\n              _context.next = 18;\n              return resp.json();\n\n            case 18:\n              res = _context.sent;\n              console.log(res);\n              setTranslation(res);\n              setLoading(false);\n              _context.next = 27;\n              break;\n\n            case 24:\n              _context.prev = 24;\n              _context.t0 = _context[\"catch\"](0);\n              console.log('error');\n\n            case 27:\n              _context.prev = 27;\n              setLoading(false);\n              window.alert(\"Sorry, you've either made a typo or you've hit the rate limit. Please either check your spelling or try again in an hour.\");\n              return _context.finish(27);\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 24, 27, 31]]);\n    }));\n\n    return function getPokemon(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    getPokemon: getPokemon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), loading ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }) : null, !loading && pokemon ? /*#__PURE__*/React.createElement(Card, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      textTransform: 'uppercase'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, pokemon.name)), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"DESCRIPTION:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, translation.contents.translated))) : null);\n}","map":{"version":3,"names":["React","Search","fetchPokemon","fetchTranslation","Spinner","Card","HomePage","useState","pokemon","setPokemon","loading","setLoading","translation","setTranslation","desc","getPokemon","query","response","json","results","flavor_text_entries","flavor_text","split","join","resp","console","log","res","window","alert","textTransform","name","contents","translated"],"sources":["/Users/kylecanham/Documents/GitHub/Poke-Shakespeare-API/poke-shake-react/src/pages/home.jsx"],"sourcesContent":["import React from 'react'\nimport Search from '../components/Search'\nimport { fetchPokemon } from '../services/getPokemon'\nimport { fetchTranslation } from '../services/getTranslation'\nimport { Spinner } from 'react-bootstrap'\nimport {Card} from 'react-bootstrap'\n\n\nexport default function HomePage() {\n    \n    const [pokemon, setPokemon] = React.useState()\n    const [loading, setLoading] = React.useState(false)\n    const [translation, setTranslation] = React.useState()\n    var desc;\n    \n    const getPokemon = async (query) => {\n        try{\n        setLoading(true)\n        const response = await fetchPokemon(query)\n        // console.log(response)\n        const results = await response.json()\n        // console.log(results)\n        setPokemon(results)\n        desc = results.flavor_text_entries[0].flavor_text\n        // console.log(desc)\n        desc = desc.split('\\n').join(' ')\n        desc = desc.split(' ').join('%20')\n        const resp = await fetchTranslation(desc)\n        console.log(resp)\n        const res = await resp.json()\n        console.log(res)\n        setTranslation(res)\n        setLoading(false)}\n        catch (err) {\n            console.log('error')\n        }\n        finally {\n            setLoading(false)\n            window.alert(\"Sorry, you've either made a typo or you've hit the rate limit. Please either check your spelling or try again in an hour.\")\n        }\n        \n    }\n\n    return (\n        <div>\n            <Search getPokemon={getPokemon}/>\n            <h5>{}</h5>\n            {loading ? (<Spinner animation=\"border\" />) :null}\n            {!loading && pokemon ? (\n                <Card className=\"text-center\">\n                <Card.Header>\n                    <h5 style={{textTransform: 'uppercase'}}>{pokemon.name}</h5>\n                </Card.Header>\n                <Card.Body>\n                    <h6>DESCRIPTION:</h6>\n                    <span>{translation.contents.translated}</span>\n                </Card.Body>\n            </Card>\n            ): null}\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}